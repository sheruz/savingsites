!function(a){var b=function(b,c){var d=a.extend({},a.fn.nivoSlider.defaults,c),e={currentSlide:0,currentImage:"",totalSlides:0,randAnim:"",running:!1,paused:!1,stop:!1},f=a(b);f.data("nivo:vars",e),f.css("position","relative"),f.addClass("nivoSlider");var g=f.children();g.each(function(){var b=a(this),c="";b.is("img")||(b.is("a")&&(b.addClass("nivo-imageLink"),c=b),b=b.find("img:first"));var d=b.width();0==d&&(d=b.attr("width"));var g=b.height();0==g&&(g=b.attr("height")),d>f.width()&&f.width(d),g>f.height()&&f.height(g),""!=c&&c.css("display","none"),b.css("display","none"),e.totalSlides++}),d.startSlide>0&&(d.startSlide>=e.totalSlides&&(d.startSlide=e.totalSlides-1),e.currentSlide=d.startSlide),a(g[e.currentSlide]).is("img")?e.currentImage=a(g[e.currentSlide]):e.currentImage=a(g[e.currentSlide]).find("img:first"),a(g[e.currentSlide]).is("a")&&a(g[e.currentSlide]).css("display","block"),f.css("background","url("+e.currentImage.attr("src")+") no-repeat");for(var h=0;h<d.slices;h++){var i=Math.round(f.width()/d.slices);h==d.slices-1?f.append(a('<div class="nivo-slice"></div>').css({left:i*h+"px",width:f.width()-i*h+"px"})):f.append(a('<div class="nivo-slice"></div>').css({left:i*h+"px",width:i+"px"}))}if(f.append(a('<div class="nivo-caption"><p></p></div>').css({display:"none",opacity:d.captionOpacity})),""!=e.currentImage.attr("title")){var j="";""!=j&&("#"==j.substr(0,1)&&(j=a(j).html()),a(".nivo-caption p",f).html(j)),a(".nivo-caption",f).fadeIn(d.animSpeed)}var k=0;if(!d.manualAdvance&&g.length>1&&(k=setInterval(function(){n(f,g,d,!1)},d.pauseTime)),d.directionNav&&(f.append('<div class="nivo-directionNav"><a class="nivo-prevNav">Prev</a><a class="nivo-nextNav">Next</a></div>'),d.directionNavHide&&(a(".nivo-directionNav",f).hide(),f.hover(function(){a(".nivo-directionNav",f).show()},function(){a(".nivo-directionNav",f).hide()})),a("a.nivo-prevNav",f).live("click",function(){if(e.running)return!1;clearInterval(k),k="",e.currentSlide-=2,n(f,g,d,"prev")}),a("a.nivo-nextNav",f).live("click",function(){if(e.running)return!1;clearInterval(k),k="",n(f,g,d,"next")})),d.controlNav){var l=a('<div class="nivo-controlNav"></div>');f.append(l);for(var h=0;h<g.length;h++)if(d.controlNavThumbs){var m=g.eq(h);m.is("img")||(m=m.find("img:first")),d.controlNavThumbsFromRel?l.append('<a class="nivo-control" rel="'+h+'"><img src="'+m.attr("rel")+'" alt="" /></a>'):l.append('<a class="nivo-control" rel="'+h+'"><img src="'+m.attr("src").replace(d.controlNavThumbsSearch,d.controlNavThumbsReplace)+'" alt="" /></a>')}else l.append('<a class="nivo-control" rel="'+h+'">'+(h+1)+"</a>");a(".nivo-controlNav a:eq("+e.currentSlide+")",f).addClass("active"),a(".nivo-controlNav a",f).live("click",function(){return!e.running&&(!a(this).hasClass("active")&&(clearInterval(k),k="",f.css("background","url("+e.currentImage.attr("src")+") no-repeat"),e.currentSlide=a(this).attr("rel")-1,void n(f,g,d,"control")))})}d.keyboardNav&&a(window).keypress(function(a){if("37"==a.keyCode){if(e.running)return!1;clearInterval(k),k="",e.currentSlide-=2,n(f,g,d,"prev")}if("39"==a.keyCode){if(e.running)return!1;clearInterval(k),k="",n(f,g,d,"next")}}),d.pauseOnHover&&f.hover(function(){e.paused=!0,clearInterval(k),k=""},function(){e.paused=!1,""!=k||d.manualAdvance||(k=setInterval(function(){n(f,g,d,!1)},d.pauseTime))}),f.bind("nivo:animFinished",function(){e.running=!1,a(g).each(function(){a(this).is("a")&&a(this).css("display","none")}),a(g[e.currentSlide]).is("a")&&a(g[e.currentSlide]).css("display","block"),""!=k||e.paused||d.manualAdvance||(k=setInterval(function(){n(f,g,d,!1)},d.pauseTime)),d.afterChange.call(this)});var n=function(b,c,d,e){var f=b.data("nivo:vars");if(f&&f.currentSlide==f.totalSlides-1&&d.lastSlide.call(this),(!f||f.stop)&&!e)return!1;if(d.beforeChange.call(this),e?("prev"==e&&b.css("background","url("+f.currentImage.attr("src")+") no-repeat"),"next"==e&&b.css("background","url("+f.currentImage.attr("src")+") no-repeat")):b.css("background","url("+f.currentImage.attr("src")+") no-repeat"),f.currentSlide++,f.currentSlide==f.totalSlides&&(f.currentSlide=0,d.slideshowEnd.call(this)),f.currentSlide<0&&(f.currentSlide=f.totalSlides-1),a(c[f.currentSlide]).is("img")?f.currentImage=a(c[f.currentSlide]):f.currentImage=a(c[f.currentSlide]).find("img:first"),d.controlNav&&(a(".nivo-controlNav a",b).removeClass("active"),a(".nivo-controlNav a:eq("+f.currentSlide+")",b).addClass("active")),""!=f.currentImage.attr("title")){var g="";""!=g&&"#"==g.substr(0,1)&&(g=a(g).html()),"block"==a(".nivo-caption",b).css("display")?a(".nivo-caption p",b).fadeOut(d.animSpeed,function(){a(this).html(g),a(this).fadeIn(d.animSpeed)}):a(".nivo-caption p",b).html(g),a(".nivo-caption",b).fadeIn(d.animSpeed)}else a(".nivo-caption",b).fadeOut(d.animSpeed);var h=0;if(a(".nivo-slice",b).each(function(){var c=Math.round(b.width()/d.slices);a(this).css({height:"0px",opacity:"0",background:"url("+f.currentImage.attr("src")+") no-repeat -"+(c+h*c-c)+"px 0%"}),h++}),"random"==d.effect){var i=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade");f.randAnim=i[Math.floor(Math.random()*(i.length+1))],void 0==f.randAnim&&(f.randAnim="fade")}if(-1!=d.effect.indexOf(",")){var i=d.effect.split(",");f.randAnim=a.trim(i[Math.floor(Math.random()*i.length)])}if(f.running=!0,"sliceDown"==d.effect||"sliceDownRight"==d.effect||"sliceDownRight"==f.randAnim||"sliceDownLeft"==d.effect||"sliceDownLeft"==f.randAnim){var j=0,h=0,k=a(".nivo-slice",b);"sliceDownLeft"!=d.effect&&"sliceDownLeft"!=f.randAnim||(k=a(".nivo-slice",b)._reverse()),k.each(function(){var c=a(this);c.css("top","0px"),h==d.slices-1?setTimeout(function(){c.animate({height:"100%",opacity:"1.0"},d.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+j):setTimeout(function(){c.animate({height:"100%",opacity:"1.0"},d.animSpeed)},100+j),j+=50,h++})}else if("sliceUp"==d.effect||"sliceUpRight"==d.effect||"sliceUpRight"==f.randAnim||"sliceUpLeft"==d.effect||"sliceUpLeft"==f.randAnim){var j=0,h=0,k=a(".nivo-slice",b);"sliceUpLeft"!=d.effect&&"sliceUpLeft"!=f.randAnim||(k=a(".nivo-slice",b)._reverse()),k.each(function(){var c=a(this);c.css("bottom","0px"),h==d.slices-1?setTimeout(function(){c.animate({height:"100%",opacity:"1.0"},d.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+j):setTimeout(function(){c.animate({height:"100%",opacity:"1.0"},d.animSpeed)},100+j),j+=50,h++})}else if("sliceUpDown"==d.effect||"sliceUpDownRight"==d.effect||"sliceUpDown"==f.randAnim||"sliceUpDownLeft"==d.effect||"sliceUpDownLeft"==f.randAnim){var j=0,h=0,l=0,k=a(".nivo-slice",b);"sliceUpDownLeft"!=d.effect&&"sliceUpDownLeft"!=f.randAnim||(k=a(".nivo-slice",b)._reverse()),k.each(function(){var c=a(this);0==h?(c.css("top","0px"),h++):(c.css("bottom","0px"),h=0),l==d.slices-1?setTimeout(function(){c.animate({height:"100%",opacity:"1.0"},d.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+j):setTimeout(function(){c.animate({height:"100%",opacity:"1.0"},d.animSpeed)},100+j),j+=50,l++})}else if("fold"==d.effect||"fold"==f.randAnim){var j=0,h=0;a(".nivo-slice",b).each(function(){var c=a(this),e=c.width();c.css({top:"0px",height:"100%",width:"0px"}),h==d.slices-1?setTimeout(function(){c.animate({width:e,opacity:"1.0"},d.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+j):setTimeout(function(){c.animate({width:e,opacity:"1.0"},d.animSpeed)},100+j),j+=50,h++})}else if("fade"==d.effect||"fade"==f.randAnim){var h=0;a(".nivo-slice",b).each(function(){a(this).css("height","100%"),h==d.slices-1?a(this).animate({opacity:"1.0"},2*d.animSpeed,"",function(){b.trigger("nivo:animFinished")}):a(this).animate({opacity:"1.0"},2*d.animSpeed),h++})}},o=function(a){this.console&&void 0!==console.log&&console.log(a)};this.stop=function(){a(b).data("nivo:vars").stop||(a(b).data("nivo:vars").stop=!0,o("Stop Slider"))},this.start=function(){a(b).data("nivo:vars").stop&&(a(b).data("nivo:vars").stop=!1,o("Start Slider"))},d.afterLoad.call(this)};a.fn.nivoSlider=function(c){return this.each(function(){var d=a(this);if(!d.data("nivoslider")){var e=new b(this,c);d.data("nivoslider",e)}})},a.fn.nivoSlider.defaults={effect:"sliceUp",slices:10,animSpeed:800,pauseTime:3500,startSlide:0,directionNav:!1,directionNavHide:!0,controlNav:!1,controlNavThumbs:!1,controlNavThumbsFromRel:!1,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:!0,pauseOnHover:!0,manualAdvance:!1,captionOpacity:.8,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}},a.fn._reverse=[].reverse}(jQuery);